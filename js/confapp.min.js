function onGoogleSignin(a){$("#googleSignIn").google_signin("loggedIn",a)}!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap='#"+f+"']")[0],!!g&&c(g)):!1):(/^(input|select|textarea|button|object)$/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.ui=a.ui||{},a.extend(a.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({scrollParent:function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return d&&"static"===b.css("position")?!1:e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length)for(var c,d,e=a(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}};var d=0,e=Array.prototype.slice;a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(g){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(b){for(var c,d,f=e.call(arguments,1),g=0,h=f.length;h>g;g++)for(c in f[g])d=f[g][c],f[g].hasOwnProperty(c)&&void 0!==d&&(a.isPlainObject(d)?b[c]=a.isPlainObject(b[c])?a.widget.extend({},b[c],d):a.widget.extend({},d):b[c]=d);return b},a.widget.bridge=function(b,c){var d=c.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=e.call(arguments,1),i=this;return g?this.each(function(){var c,e=a.data(this,d);return"instance"===f?(i=e,!1):e?a.isFunction(e[f])&&"_"!==f.charAt(0)?(c=e[f].apply(e,h),c!==e&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}):(h.length&&(f=a.widget.extend.apply(null,[f].concat(h))),this.each(function(){var b=a.data(this,d);b?(b.option(f||{}),b._init&&b._init()):a.data(this,d,new c(f,this))})),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0],this.element=a(c),this.uuid=d++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),c!==this&&(a.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.unbind(c).undelegate(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}});var f=(a.widget,!1);a(document).mouseup(function(){f=!1});a.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!f){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,d=1===b.which,e="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return d&&!e&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),f=!0,!0)):!0}},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button)return this._mouseUp(b);if(!b.which)return this._mouseUp(b)}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),f=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function b(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function c(b,c){return parseInt(a.css(b,c),10)||0}function d(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var e,f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==e)return e;var b,c,d=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=d.children()[0];return a("body").append(d),b=f.offsetWidth,d.css("overflow","scroll"),c=f.offsetWidth,b===c&&(c=d[0].clientWidth),d.remove(),e=b-c},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:d,isDocument:e,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d||e?c.width():c.outerWidth(),height:d||e?c.height():c.outerHeight()}}},a.fn.position=function(e){if(!e||!e.of)return o.apply(this,arguments);e=a.extend({},e);var n,p,q,r,s,t,u=a(e.of),v=a.position.getWithinInfo(e.within),w=a.position.getScrollInfo(v),x=(e.collision||"flip").split(" "),y={};return t=d(u),u[0].preventDefault&&(e.at="left top"),p=t.width,q=t.height,r=t.offset,s=a.extend({},r),a.each(["my","at"],function(){var a,b,c=(e[this]||"").split(" ");1===c.length&&(c=j.test(c[0])?c.concat(["center"]):k.test(c[0])?["center"].concat(c):["center","center"]),c[0]=j.test(c[0])?c[0]:"center",c[1]=k.test(c[1])?c[1]:"center",a=l.exec(c[0]),b=l.exec(c[1]),y[this]=[a?a[0]:0,b?b[0]:0],e[this]=[m.exec(c[0])[0],m.exec(c[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?s.left+=p:"center"===e.at[0]&&(s.left+=p/2),"bottom"===e.at[1]?s.top+=q:"center"===e.at[1]&&(s.top+=q/2),n=b(y.at,p,q),s.left+=n[0],s.top+=n[1],this.each(function(){var d,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=c(this,"marginLeft"),t=c(this,"marginTop"),z=l+o+c(this,"marginRight")+w.width,A=m+t+c(this,"marginBottom")+w.height,B=a.extend({},s),C=b(y.my,k.outerWidth(),k.outerHeight());"right"===e.my[0]?B.left-=l:"center"===e.my[0]&&(B.left-=l/2),"bottom"===e.my[1]?B.top-=m:"center"===e.my[1]&&(B.top-=m/2),B.left+=C[0],B.top+=C[1],f||(B.left=i(B.left),B.top=i(B.top)),d={marginLeft:o,marginTop:t},a.each(["left","top"],function(b,c){a.ui.position[x[b]]&&a.ui.position[x[b]][c](B,{targetWidth:p,targetHeight:q,elemWidth:l,elemHeight:m,collisionPosition:d,collisionWidth:z,collisionHeight:A,offset:[n[0]+C[0],n[1]+C[1]],my:e.my,at:e.at,within:v,elem:k})}),e.using&&(j=function(a){var b=r.left-B.left,c=b+p-l,d=r.top-B.top,f=d+q-m,i={target:{element:u,left:r.left,top:r.top,width:p,height:q},element:{element:k,left:B.left,top:B.top,width:l,height:m},horizontal:0>c?"left":b>0?"right":"center",vertical:0>f?"top":d>0?"bottom":"middle"};l>p&&h(b+c)<p&&(i.horizontal="center"),m>q&&h(d+f)<q&&(i.vertical="middle"),g(h(b),h(c))>g(h(d),h(f))?i.important="horizontal":i.important="vertical",e.using.call(this,a,i)}),k.offset(a.extend(B,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):j>0&&0>=i?a.left=e:i>j?a.left=e+f-b.collisionWidth:a.left=e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):j>0&&0>=i?a.top=e:i>j?a.top=e+f-b.collisionHeight:a.top=e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||c<h(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||h(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,(0>d||d<h(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,(c>0||h(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,g,h=document.getElementsByTagName("body")[0],i=document.createElement("div");b=document.createElement(h?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},h&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(g in d)b.style[g]=d[g];b.appendChild(i),c=h||document.documentElement,c.insertBefore(b,c.firstChild),i.style.cssText="position: absolute; left: 10.7432222px;",e=a(i).offset().left,f=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}();a.ui.position;a.widget("ui.draggable",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,b){this._super(a,b),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(b){var c=this.options;return this._blurActiveElement(b),this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(this._blockFrames(c.iframeFix===!0?"iframe":c.iframeFix),!0):!1)},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var b=a(this);return a("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(b){var c=this.document[0];if(this.handleElement.is(b.target))try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()&&a(c.activeElement).blur()}catch(d){}},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===a(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(b),this.originalPosition=this.position=this._generatePosition(b,!1),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._normalizeRightBottom(),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(b,c){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b,!0),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1},_mouseUp:function(b){return this._unblockFrames(),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),this.handleElement.is(b.target)&&this.element.focus(),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper),e=d?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),c=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==c&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options,f=this.document[0];return this.relativeContainer=null,e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(f).width()-this.helperProportions.width-this.margins.left,(a(f).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c))):void(this.containment=null)},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"===a?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*c}},_generatePosition:function(a,b){var c,d,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),i=a.pageX,j=a.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,a.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),a.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),a.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),a.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f),"y"===g.axis&&(i=this.originalPageX),"x"===g.axis&&(j=this.originalPageY)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d,this],!0),/^(drag|start|stop)/.test(b)&&(this.positionAbs=this._convertPositionTo("absolute"),d.offset=this.positionAbs),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c,d){var e=a.extend({},c,{item:d.element});d.sortables=[],a(d.options.connectToSortable).each(function(){var c=a(this).sortable("instance");c&&!c.options.disabled&&(d.sortables.push(c),c.refreshPositions(),c._trigger("activate",b,e))})},stop:function(b,c,d){var e=a.extend({},c,{item:d.element});d.cancelHelperRemoval=!1,a.each(d.sortables,function(){var a=this;a.isOver?(a.isOver=0,d.cancelHelperRemoval=!0,a.cancelHelperRemoval=!1,a._storedCSS={position:a.placeholder.css("position"),top:a.placeholder.css("top"),left:a.placeholder.css("left")},a._mouseStop(b),a.options.helper=a.options._helper):(a.cancelHelperRemoval=!0,a._trigger("deactivate",b,e))})},drag:function(b,c,d){a.each(d.sortables,function(){var e=!1,f=this;f.positionAbs=d.positionAbs,f.helperProportions=d.helperProportions,f.offset.click=d.offset.click,
f._intersectsWith(f.containerCache)&&(e=!0,a.each(d.sortables,function(){return this.positionAbs=d.positionAbs,this.helperProportions=d.helperProportions,this.offset.click=d.offset.click,this!==f&&this._intersectsWith(this.containerCache)&&a.contains(f.element[0],this.element[0])&&(e=!1),e})),e?(f.isOver||(f.isOver=1,d._parent=c.helper.parent(),f.currentItem=c.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return c.helper[0]},b.target=f.currentItem[0],f._mouseCapture(b,!0),f._mouseStart(b,!0,!0),f.offset.click.top=d.offset.click.top,f.offset.click.left=d.offset.click.left,f.offset.parent.left-=d.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=d.offset.parent.top-f.offset.parent.top,d._trigger("toSortable",b),d.dropped=f.element,a.each(d.sortables,function(){this.refreshPositions()}),d.currentItem=d.element,f.fromOutside=d),f.currentItem&&(f._mouseDrag(b),c.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,f.options.revert=!1,f._trigger("out",b,f._uiHash(f)),f._mouseStop(b,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),c.helper.appendTo(d._parent),d._refreshOffsets(b),c.position=d._generatePosition(b,!0),d._trigger("fromSortable",b),d.dropped=!1,a.each(d.sortables,function(){this.refreshPositions()}))})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c,d){var e=a("body"),f=d.options;e.css("cursor")&&(f._cursor=e.css("cursor")),e.css("cursor",f.cursor)},stop:function(b,c,d){var e=d.options;e._cursor&&a("body").css("cursor",e._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("opacity")&&(f._opacity=e.css("opacity")),e.css("opacity",f.opacity)},stop:function(b,c,d){var e=d.options;e._opacity&&a(c.helper).css("opacity",e._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1)),c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(b,c,d){var e=d.options,f=!1,g=d.scrollParentNotHidden[0],h=d.document[0];g!==h&&"HTML"!==g.tagName?(e.axis&&"x"===e.axis||(d.overflowOffset.top+g.offsetHeight-b.pageY<e.scrollSensitivity?g.scrollTop=f=g.scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(g.scrollTop=f=g.scrollTop-e.scrollSpeed)),e.axis&&"y"===e.axis||(d.overflowOffset.left+g.offsetWidth-b.pageX<e.scrollSensitivity?g.scrollLeft=f=g.scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(g.scrollLeft=f=g.scrollLeft-e.scrollSpeed))):(e.axis&&"x"===e.axis||(b.pageY-a(h).scrollTop()<e.scrollSensitivity?f=a(h).scrollTop(a(h).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(h).scrollTop())<e.scrollSensitivity&&(f=a(h).scrollTop(a(h).scrollTop()+e.scrollSpeed))),e.axis&&"y"===e.axis||(b.pageX-a(h).scrollLeft()<e.scrollSensitivity?f=a(h).scrollLeft(a(h).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(h).scrollLeft())<e.scrollSensitivity&&(f=a(h).scrollLeft(a(h).scrollLeft()+e.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c,d){var e=d.options;d.snapElements=[],a(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o=d.options,p=o.snapTolerance,q=c.offset.left,r=q+d.helperProportions.width,s=c.offset.top,t=s+d.helperProportions.height;for(m=d.snapElements.length-1;m>=0;m--)i=d.snapElements[m].left-d.margins.left,j=i+d.snapElements[m].width,k=d.snapElements[m].top-d.margins.top,l=k+d.snapElements[m].height,i-p>r||q>j+p||k-p>t||s>l+p||!a.contains(d.snapElements[m].item.ownerDocument,d.snapElements[m].item)?(d.snapElements[m].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=!1):("inner"!==o.snapMode&&(e=Math.abs(k-t)<=p,f=Math.abs(l-s)<=p,g=Math.abs(i-r)<=p,h=Math.abs(j-q)<=p,e&&(c.position.top=d._convertPositionTo("relative",{top:k-d.helperProportions.height,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i-d.helperProportions.width}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j}).left)),n=e||f||g||h,"outer"!==o.snapMode&&(e=Math.abs(k-s)<=p,f=Math.abs(l-t)<=p,g=Math.abs(i-q)<=p,h=Math.abs(j-r)<=p,e&&(c.position.top=d._convertPositionTo("relative",{top:k,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j-d.helperProportions.width}).left)),!d.snapElements[m].snapping&&(e||f||g||h||n)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=e||f||g||h||n)}}),a.ui.plugin.add("draggable","stack",{start:function(b,c,d){var e,f=d.options,g=a.makeArray(a(f.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});g.length&&(e=parseInt(a(g[0]).css("zIndex"),10)||0,a(g).each(function(b){a(this).css("zIndex",e+b)}),this.css("zIndex",e+g.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("zIndex")&&(f._zIndex=e.css("zIndex")),e.css("zIndex",f.zIndex)},stop:function(b,c,d){var e=d.options;e._zIndex&&a(c.helper).css("zIndex",e._zIndex)}});a.ui.draggable;a.widget("ui.resizable",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,10))},_hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},_create:function(){var b,c,d,e,f,g=this,h=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=a(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;c<b.length;c++)d=a.trim(b[c]),f="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:h.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String?this.handles[c]=this.element.children(this.handles[c]).first().show():(this.handles[c].jquery||this.handles[c].nodeType)&&(this.handles[c]=a(this.handles[c]),this._on(this.handles[c],{mousedown:g._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),this._handles=this._handles.add(this.handles[c])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){g.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=e&&e[1]?e[1]:"se")}),h.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(a(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){h.disabled||g.resizing||(a(this).addClass("ui-resizable-autohide"),g._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(b){var c,d,e,f=this.options,g=this.element;return this.resizing=!0,this._renderProxy(),c=this._num(this.helper.css("left")),d=this._num(this.helper.css("top")),f.containment&&(c+=a(f.containment).scrollLeft()||0,d+=a(f.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:c,top:d},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalPosition={left:c,top:d},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof f.aspectRatio?f.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===e?this.axis+"-resize":e),g.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c,d,e=this.originalMousePosition,f=this.axis,g=b.pageX-e.left||0,h=b.pageY-e.top||0,i=this._change[f];return this._updatePrevProperties(),i?(c=i.apply(this,[b,g,h]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),d=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(d)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&this._hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,i=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var b,c,d,e,f,g=this.options;f={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:1/0,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:1/0},(this._aspectRatio||a)&&(b=f.minHeight*this.aspectRatio,d=f.minWidth/this.aspectRatio,c=f.maxHeight*this.aspectRatio,e=f.maxWidth/this.aspectRatio,b>f.minWidth&&(f.minWidth=b),d>f.minHeight&&(f.minHeight=d),c<f.maxWidth&&(f.maxWidth=c),e<f.maxHeight&&(f.maxHeight=e)),this._vBoundaries=f},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,d=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===d&&(a.left=b.left+(c.width-a.width),a.top=null),"nw"===d&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,d=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,e=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,f=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,g=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,h=this.originalPosition.left+this.originalSize.width,i=this.position.top+this.size.height,j=/sw|nw|w/.test(c),k=/nw|ne|n/.test(c);return f&&(a.width=b.minWidth),g&&(a.height=b.minHeight),d&&(a.width=b.maxWidth),e&&(a.height=b.maxHeight),f&&j&&(a.left=h-b.minWidth),d&&j&&(a.left=h-b.maxWidth),g&&k&&(a.top=i-b.minHeight),e&&k&&(a.top=i-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){for(var b=0,c=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],e=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>b;b++)c[b]=parseInt(d[b],10)||0,c[b]+=parseInt(e[b],10)||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,b=0,c=this.helper||this.element;b<this._proportionallyResizeElements.length;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).resizable("instance"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&c._hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var b,c,d,e,f,g,h,i=a(this).resizable("instance"),j=i.options,k=i.element,l=j.containment,m=l instanceof a?l.get(0):/parent/.test(l)?k.parent().get(0):l;m&&(i.containerElement=a(m),/document/.test(l)||l===document?(i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(m),c=[],a(["Top","Right","Left","Bottom"]).each(function(a,d){c[a]=i._num(b.css("padding"+d))}),i.containerOffset=b.offset(),i.containerPosition=b.position(),i.containerSize={height:b.innerHeight()-c[3],width:b.innerWidth()-c[1]},d=i.containerOffset,e=i.containerSize.height,f=i.containerSize.width,g=i._hasScroll(m,"left")?m.scrollWidth:f,h=i._hasScroll(m)?m.scrollHeight:e,i.parentData={element:m,left:d.left,top:d.top,width:g,height:h}))},resize:function(b){var c,d,e,f,g=a(this).resizable("instance"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement,n=!0;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio,n=!1),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio,n=!1),g.position.top=g._helper?i.top:0),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f?(g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top):(g.offset.left=g.element.offset().left,g.offset.top=g.element.offset().top),c=Math.abs(g.sizeDiff.width+(g._helper?g.offset.left-l.left:g.offset.left-i.left)),d=Math.abs(g.sizeDiff.height+(g._helper?g.offset.top-l.top:g.offset.top-i.top)),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio,n=!1)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio,n=!1)),n||(g.position.left=g.prevPosition.left,g.position.top=g.prevPosition.top,g.size.width=g.prevSize.width,g.size.height=g.prevSize.height)},stop:function(){var b=a(this).resizable("instance"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).resizable("instance"),c=b.options;a(c.alsoResize).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})},resize:function(b,c){var d=a(this).resizable("instance"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0};a(e.alsoResize).each(function(){var b=a(this),d=a(this).data("ui-resizable-alsoresize"),e={},f=b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(f,function(a,b){var c=(d[b]||0)+(h[b]||0);c&&c>=0&&(e[b]=c||null)}),b.css(e)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).resizable("instance"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).resizable("instance");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b,c=a(this).resizable("instance"),d=c.options,e=c.size,f=c.originalSize,g=c.originalPosition,h=c.axis,i="number"==typeof d.grid?[d.grid,d.grid]:d.grid,j=i[0]||1,k=i[1]||1,l=Math.round((e.width-f.width)/j)*j,m=Math.round((e.height-f.height)/k)*k,n=f.width+l,o=f.height+m,p=d.maxWidth&&d.maxWidth<n,q=d.maxHeight&&d.maxHeight<o,r=d.minWidth&&d.minWidth>n,s=d.minHeight&&d.minHeight>o;d.grid=i,r&&(n+=j),s&&(o+=k),p&&(n-=j),q&&(o-=k),/^(se|s|e)$/.test(h)?(c.size.width=n,c.size.height=o):/^(ne)$/.test(h)?(c.size.width=n,c.size.height=o,c.position.top=g.top-m):/^(sw)$/.test(h)?(c.size.width=n,c.size.height=o,c.position.left=g.left-l):((0>=o-k||0>=n-j)&&(b=c._getPaddingPlusBorderDimensions(this)),o-k>0?(c.size.height=o,c.position.top=g.top-m):(o=k-b.height,c.size.height=o,c.position.top=g.top+f.height-o),n-j>0?(c.size.width=n,c.position.left=g.left-l):(n=j-b.width,c.size.width=n,c.position.left=g.left+f.width-n))}});a.ui.resizable,a.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var c=a(b.target);!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var c=a(b.currentTarget);c.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){var c,d,e,f,g=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:g=!1,d=this.previousFilter||"",e=String.fromCharCode(b.keyCode),f=!1,clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,c=this._filterMenuItems(e),c=f&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(b.keyCode),c=this._filterMenuItems(e)),c.length?(this.focus(b,c),this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}g&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var b,c,d=this,e=this.options.icons.submenu,f=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),f.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),c=b.parent(),d=a("<span>").addClass("ui-menu-icon ui-icon "+e).data("ui-menu-submenu-carat",!0);c.attr("aria-haspopup","true").prepend(d),b.attr("aria-labelledby",c.attr("id"))}),b=f.add(this.element),c=b.find(this.options.items),c.not(".ui-menu-item").each(function(){var b=a(this);d._isDivider(b)&&b.addClass("ui-widget-content ui-menu-divider")}),c.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),c.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.outerHeight(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(b){return!a(b.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[b]()),
this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items).first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)},_filterMenuItems:function(b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),d=new RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(a.trim(a(this).text()))})}});a.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=f?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){var d,e;return this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)})):(e=c.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",b,{item:e})&&b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(e.value),d=c.item.attr("aria-label")||e.value,void(d&&a.trim(d).length&&(this.liveRegion.children().hide(),a("<div>").text(d).appendTo(this.liveRegion))))},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b&&b[0]||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!b||b&&!c&&!d)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").text(c.label).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var c;this._superApply(arguments),this.options.disabled||this.cancelSearch||(c=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults,this.liveRegion.children().hide(),a("<div>").text(c).appendTo(this.liveRegion))}});var g,h=(a.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);return c&&(c=c.replace(/'/g,"\\'"),e=d?a(d).find("[name='"+c+"'][type=radio]"):a("[name='"+c+"'][type=radio]",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,j),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,c=this.options,d="checkbox"===this.type||"radio"===this.type,e=d?"":"ui-state-active";null===c.label&&(c.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(h).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){c.disabled||this===g&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){c.disabled||a(this).removeClass(e)}).bind("click"+this.eventNamespace,function(a){c.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),d&&this.element.bind("change"+this.eventNamespace,function(){b.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return c.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(c.disabled)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var d=b.element[0];k(d).not(d).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return c.disabled?!1:(a(this).addClass("ui-state-active"),g=this,void b.document.one("mouseup",function(){g=null}))}).bind("mouseup"+this.eventNamespace,function(){return c.disabled?!1:void a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return c.disabled?!1:void((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",c.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(h+" ui-state-active "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),void(b&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction"),c=this.element.find(this.options.items),d=c.filter(":ui-button");c.not(":ui-button").button(),d.button("refresh"),this.buttons=c.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var l=(a.ui.button,a.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c,d=this;if(this._isOpen&&this._trigger("beforeClose",b)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{c=this.document[0].activeElement,c&&"body"!==c.nodeName.toLowerCase()&&a(c).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var d=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get(),f=Math.max.apply(null,e);return f>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",f+1),d=!0),d&&!c&&this._trigger("focus",b),d},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable(),b._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement,c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);c||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(this._delay(function(){e.focus()}),b.preventDefault()):(this._delay(function(){d.focus()}),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(b),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,d.click=function(){e.apply(b.element[0],arguments)},f={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,a("<button></button>",d).button(f).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){a(this).addClass("ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){var g=f.offset.left-c.document.scrollLeft(),h=f.offset.top-c.document.scrollTop();d.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" top"+(h>=0?"+":"")+h,of:c.window},a(this).removeClass("ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){a(this).addClass("ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){var g=c.uiDialog.offset(),h=g.left-c.document.scrollLeft(),i=g.top-c.document.scrollTop();d.height=c.uiDialog.height(),d.width=c.uiDialog.width(),d.position={my:"left top",at:"left"+(h>=0?"+":"")+h+" top"+(i>=0?"+":"")+i,of:c.window},a(this).removeClass("ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget(),this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),c=a.inArray(this,b);-1!==c&&b.splice(c,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(b){var c=this,d=!1,e={};a.each(b,function(a,b){c._setOption(a,b),a in c.sizeRelatedOptions&&(d=!0),a in c.resizableRelatedOptions&&(e[a]=b)}),d&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,b){var c,d,e=this.uiDialog;"dialogClass"===a&&e.removeClass(this.options.dialogClass).addClass(b),"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(c=e.is(":data(ui-draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(d=e.is(":data(ui-resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=!0;this._delay(function(){b=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){b||this._allowInteraction(a)||(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),a.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))},_removeDescribedBy:function(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);-1!==e&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=a("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(b,c){var d=this;return"disabled"===b?(this[c?"_disable":"_enable"](),void(this.options[b]=c)):(this._super(b,c),void("content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b.element)})))},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d.element[0],b.close(e,!0)}),this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b,d=a(this);d.data("ui-tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0)),d.attr("title")&&(d.uniqueId(),c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._registerCloseHandlers(b,d),this._updateContent(d,b))},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){e._delay(function(){a.data("ui-tooltip-open")&&(b&&(b.type=f),this._open(b,a,c))})}),void(c&&this._open(b,a,c)))},_open:function(b,c,d){function e(a){j.of=a,g.is(":hidden")||g.position(j)}var f,g,h,i,j=a.extend({},this.options.position);if(d){if(f=this._find(c))return void f.tooltip.find(".ui-tooltip-content").html(d);c.is("[title]")&&(b&&"mouseover"===b.type?c.attr("title",""):c.removeAttr("title")),f=this._tooltip(c),g=f.tooltip,this._addDescribedBy(c,g.attr("id")),g.find(".ui-tooltip-content").html(d),this.liveRegion.children().hide(),d.clone?(i=d.clone(),i.removeAttr("id").find("[id]").removeAttr("id")):i=d,a("<div>").html(i).appendTo(this.liveRegion),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:e}),e(b)):g.position(a.extend({of:c},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){g.is(":visible")&&(e(j.of),clearInterval(h))},a.fx.interval)),this._trigger("open",b,{tooltip:g})}},_registerCloseHandlers:function(b,c){var d={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var d=a.Event(b);d.currentTarget=c[0],this.close(d,!0)}}};c[0]!==this.element[0]&&(d.remove=function(){this._removeTooltip(this._find(c).tooltip)}),b&&"mouseover"!==b.type||(d.mouseleave="close"),b&&"focusin"!==b.type||(d.focusout="close"),this._on(!0,c,d)},close:function(b){var c,d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);return f?(c=f.tooltip,void(f.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&!e.attr("title")&&e.attr("title",e.data("ui-tooltip-title")),this._removeDescribedBy(e),f.hiding=!0,c.stop(!0),this._hide(c,this.options.hide,function(){d._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),
this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title),delete d.parents[b]}),f.closing=!0,this._trigger("close",b,{tooltip:c}),f.hiding||(f.closing=!1)))):void e.removeData("ui-tooltip-open")},_tooltip:function(b){var c=a("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),d=c.uniqueId().attr("id");return a("<div>").addClass("ui-tooltip-content").appendTo(c),c.appendTo(this.document[0].body),this.tooltips[d]={element:b,tooltip:c}},_find:function(a){var b=a.data("ui-tooltip-id");return b?this.tooltips[b]:null},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur"),f=d.element;e.target=e.currentTarget=f[0],b.close(e,!0),a("#"+c).remove(),f.data("ui-tooltip-title")&&(f.attr("title")||f.attr("title",f.data("ui-tooltip-title")),f.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),"ui-effects-"),m=a;a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(m),function(){function b(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function c(b,c){var d,f,g={};for(d in c)f=c[d],b[d]!==f&&(e[d]||(a.fx.step[d]||!isNaN(parseFloat(f)))&&(g[d]=f));return g}var d=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(m.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(e,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var c=a(this);return{el:c,start:b(this)}}),f=function(){a.each(d,function(a,b){e[b]&&g[b+"Class"](e[b])})},f(),j=j.map(function(){return this.end=b(this.el[0]),this.diff=c(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(c,d,e,f,g){return"boolean"==typeof d||void 0===d?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:c},d,e,f)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function b(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function c(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}a.extend(a.effects,{version:"1.11.4",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data(l+b[c],a[0].style[b[c]])},restore:function(a,b){var c,d;for(d=0;d<b.length;d++)null!==b[d]&&(c=a.data(l+b[d]),void 0===c&&(c=""),a.css(b[d],c))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function c(b){function c(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=d.complete,h=d.mode;(e.is(":hidden")?"hide"===h:"show"===h)?(e[h](),c()):g.call(e[0],d,c)}var d=b.apply(this,arguments),e=d.mode,f=d.queue,g=a.effects.effect[d.effect];return a.fx.off||!g?e?this[e](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):f===!1?this.each(c):this.queue(f||"fx",c)},show:function(a){return function(d){if(c(d))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(a.fn.show),hide:function(a){return function(d){if(c(d))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(a.fn.hide),toggle:function(a){return function(d){if(c(d)||"boolean"==typeof d)return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}();a.effects}),function(a){function b(a){for(var b,c=window.location.search.substring(1),d=c.split("&"),e=0,f=d.length;f>e;e++)if(b=d[e].split("="),b[0]===a)return b[1]}function c(a){for(var b=c.options,d=b.parser[b.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[b.key[f]]=d[f]||"";return e[b.q.name]={},e[b.key[12]].replace(b.q.parser,function(a,c,d){c&&(e[b.q.name][c]=d)}),e}function d(a){var b=a.substr(-1);return"/"===b?a:a+"/"}function e(a){return moment(a).format("dddd")}function f(a){return moment(a).format("ddd")}function g(a){return o[a-1]}function h(a,b){b||(b=0);var c,d=$(a).offset();c=d?d.top+b:b,$("html, body").animate({scrollTop:c},400)}function i(a,b,c){b=b||100,c=c||this;var d,e;return function(){var f=arguments,g=(new Date).getTime();d&&d+b>g?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(c,f)},b)):(d=g,a.apply(c,f))}}function j(a,b,c){if(a){var d,e=a.length;if(e===+e){for(d=0;e>d;d++)if(b.call(c,a[d],d,a)===p)return}else{d=0;for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)===p)break}}}function k(a){var b=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/,c=a.match(b);return c&&11===c[1].length?c[1]:!1}function l(a){return"https://www.youtube.com/embed/"+a}function m(a,b){return Array.prototype.slice.call(a,b)}function n(a,b){function c(){var c=f.val();a.setVoterID(c),e.dialog("destroy"),b&&b(c,d)}var d=!1,e=$(document.createElement("div")),f=($("<p />").text("Please enter your six-character voter ID").appendTo(e).addClass("instructions"),$("<input />").attr({type:"text",placeholder:"Voter ID",maxlength:6}).appendTo(e).on("input",function(b){var c=$(this).val();h.text("");var e=f.add(h);e.removeClass("error success").addClass("waiting"),a.checkVoterID(c,function(a,b){e.removeClass("waiting"),a?(d=!1,h.text(a),e.addClass("error")):(d=!0,e.addClass("success"))})}).on("keydown",function(a){13===a.keyCode&&c()})),g=$("<div />").appendTo(e).addClass("submit_buttons"),h=($("<button />").text("OK").appendTo(g).on("click",function(){c()}).css({"margin-right":"5px"}),$("<button />").text("Cancel").appendTo(g).on("click",function(){e.dialog("destroy")}),$("<div />").addClass("voter_id_feedback").appendTo(e));e.dialog({closeText:!1,modal:!0,draggable:!1,resizable:!1,dialogClass:"voter_id"}),f.val(a.getVoterID()),f.focus().select()}!function(a){function b(a){var b={};return f(a,function(a,c){b[a]=c}),b}function c(a,b){var c=(a.headers,{});return f(a.headers,function(a,d){c[a]=b[d]}),c}function d(b,c,d,e,f,g){var h=a.XMLHttpRequest||ActiveXObject,i=new h("MSXML2.XMLHTTP.3.0");i.open(b,c,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300?e.call(g,i.response):f.call(g,i))};try{i.send(d)}catch(j){}}function e(a,b,c){var d=document.getElementsByTagName("head").item(0),e=document.createElement("script");e.type="text/javascript",e.onreadystatechange=function(){"complete"==this.readyState&&b.call(c)},e.onload=function(){b.call(c)},e.src=a,d.appendChild(e)}function f(a,b,c){if(a){var d,e=a.length;if(e===+e){for(d=0;e>d;d++)if(b.call(c,a[d],d,a)===q)return}else{d=0;for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)===q)break}}}function g(a,b,c){var d=[];return f(a,function(a){var e=b.apply(c,arguments);e&&d.push(e)}),d}var h=6e4,i=1440*h,j="event",k="person",l="location",m="conference",n="attachment",o="annotation",p="db_info",q={},r="_cadata_",s=function(a,b){this._options=a};!function(a){var b=a.prototype,c={getID:"_id",getDescription:"description",getIcon:"icon",getName:"name",getType:"type",getSequence:"sequence"};f(c,function(a,c){b[c]=function(){return this._options[a]}})}(s);var t=function(a,b){this._options=a};!function(a){var b=a.prototype,c={getID:"_id",getType:"type",getURL:"url",getDirectory:"directory",getFilename:"filename"};f(c,function(a,c){b[c]=function(){return this._options[a]}})}(t);var u=function(a,b){this._options=a,this._db=b,this._people=!1,this._events=!1,this._num_sub_events=!1,this._location=!1,this._attachments=!1,this._annotations=!1,this._parent=!1};!function(a){var b=a.prototype,c={getID:"_id",getUniqueID:"unique_id",getType:"type",getName:"title",getPersonDemonym:"person_demonym",getEventDemonym:"event_demonym",getDescription:"description",getShortDescription:"short_description"};f(c,function(a,c){b[c]=function(){return this._options[a]}}),b.getStartTimestamp=function(){return 1e3*this._options.start_time},b.getEndTimestamp=function(){return 1e3*this._options.end_time},b.getUTCOffset=function(){return this._options.utc_offset*h},b.isTopLevel=function(){return this._options.parent_fk<0},b.getParent=function(){var a=this._options.parent_fk;return 0>a?!1:this._parent?this._parent:this._parent=this._db.getEventWithID(a)},b.getNumSubEvents=function(){return this._num_sub_events===!1&&(this._num_sub_events=this._db.getNumSubEvents(this)),this._num_sub_events},b.isSingular=function(){return 1===this.getNumSubEvents()},b.getSubEvents=function(){return this._events||(this._events=this._db.getSessionEvents(this,this._num_sub_events),this._num_sub_events=this._events.length),this._events},b.getLocation=function(){return this._location||(this._location=this._db.getLocation(this._options.location_fk)),this._location},b.getPeople=function(){return this._people||(this._people=this._db.getEventPeople(this)),this._people},b.getAttachments=function(){return this._attachments||(this._attachments=this._db.getEventAttachments(this)),this._attachments},b.getAnnotations=function(){return this._annotations||(this._annotations=this._db.getEventAnnotations(this)),this._annotations},b.toString=function(){return this.getName()}}(u);var v=function(a,b){this._options=a,this._db=b,this._events=!1};!function(a){var b=a.prototype,c={getID:"_id",getName:"name",getLastName:"last_name",getAffiliation:"affiliation"};f(c,function(a,c){b[c]=function(){return this._options[a]}}),b.getEvents=function(){return this._events||(this._events=this._db.getPersonEvents(this)),this._events},b.toString=function(){return this.getName()+" ("+this.getAffiliation()+")"}}(v);var w=function(a,b){this._options=a,this._db=b};!function(a){var b=a.prototype,c={getID:"_id",getName:"name",getShortName:"short_name",getDescription:"description",getSequence:"sequence",getMapName:"map_name",getMapFile:"map_file"};f(c,function(a,c){b[c]=function(){return this._options[a]}}),b.getMapLocation=function(){return{xPercent:this._options.map_x_pct,yPercent:this._options.map_y_pct}},b.toString=function(){return this.getName()}}(w);var x=function(b){this._loaded=!1,this._loaded_callbacks=[],this._database_info=!1,this._conference_info=!1,this._events={},this._people={},this._locations={},this._headerMaps={},this._annotations={},this._attachments={},this._firstNSearchResults={},d("GET",b,!1,function(a){this._onDataFetched(JSON.parse(a))},function(c){e(b+"p",function(){if(!a.hasOwnProperty(r))throw new Error(c);this._onDataFetched(a[r])},this)},this)};!function(d){function e(a,b,d){return function(e){var g=this[b],h=this._data[a],i=(h.rows,this.getHeaderMap(a)),j=(i._id,z(e)),k=[];return f(j?e:[e],function(b){var e;if(g.hasOwnProperty(b))e=g[b];else{var f=!1,h=this._data[a],i=h.rows,j=b-1,l=i[j],m=h.headers.indexOf("_id");if(l[m]===b)f=!0;else for(console.error("Using longhand search"),j=0;j<i.length;j++)if(l=i[j],l[m]===b){f=!0;break}e=f?new d(c(h,l),this):!1,g[b]=e}k.push(e)},this),j?k:k[0]}}var r=d.prototype;r._onDataFetched=function(a){this._data=a,this._loaded=!0,f(this._loaded_callbacks,function(a){a.fn.call(a.thisArg,this)},this),this._loaded_callbacks=[]},r.getID=function(){var a=this.getConferenceInfo();return a.id},r.getHeaderMap=function(a){if(this._headerMaps.hasOwnProperty(a))return this._headerMaps[a];var c=this._data[a].headers;b(c);return this._headerMaps[a]=b(c)},r.getEventWithID=e(j,"_events",u),r.getPersonWithID=e(k,"_people",v),r.getLocationWithID=e(l,"_locations",w),r.getAttachmentWithID=e(n,"_attachments",t),r.getAnnotationWithID=e(o,"_annotations",s),r.onLoad=function(b,c){return c||(c=a),this.hasLoaded()?b.call(c,this):this._loaded_callbacks.push({fn:b,thisArg:c}),this},r.hasLoaded=function(){return this._loaded},r.getConferenceInfo=function(){if(this._conference_info)return this._conference_info;var a=this._data.conference,b=a.rows[0];this.getHeaderMap(m);return this._conference_info=c(a,b)},r.getDatabaseInfo=function(){if(this._database_info)return this._database_info;var a=this._data.db_info,b=a.rows[0];this.getHeaderMap(p);return this._database_info=c(a,b)},r.getDayTimestamps=function(){var a=this.getConferenceInfo(),b=1e3*a.start_day,c=a.num_days,d=[],e=0;if(0===c)d=!1;else for(;c>e;e++)d[e]=b+e*i;return d},r.getUTCOffset=function(){var a=this.getConferenceInfo();return a.utc_offset*h},r.getEventWithUniqueID=function(a){for(var b=this._data.event,c=b.rows,d=this.getHeaderMap(j),e=d._id,f=d.unique_id,g=c.length,h=0;g>h;h++){var i=c[h];if(i[f]===a)return this.getEventWithID(i[e])}return!1},r.filterSessions=function(a){var b=this._data.event,c=b.rows,d=this.getHeaderMap(j),e=d._id,g=[];return f(c,function(b){var c,d=b[e];(!a||a(b))&&(c=this.getEventWithID(d),c&&g.push(c))},this),g.sort(function(a,b){var c=a.getLocation(),d=b.getLocation(),e=c?c.getSequence():-1,f=d?d.getSequence():-1;return e-f}),g},r.filterPeople=function(a){var b=this._data.person,c=b.rows,d=this.getHeaderMap(k),e=d._id,g=[];return f(c,function(b){var c,d=b[e];(!a||a(b))&&(c=this.getPersonWithID(d),c&&g.push(c))},this),g},r.getSessionsBetween=function(a,b){var c=(this._data.event,this.getHeaderMap(j)),d=c.start_time,e=c.parent_fk,f=function(c){var f=1e3*c[d];return c[e]<0&&f>=a&&b>=f},g=this.filterSessions(f);return g.sort(function(a,b){return a.getStartTimestamp()-b.getStartTimestamp()}),g},r.getDaySessions=function(a){return a instanceof Date&&(a=a.getTime()),this.getSessionsBetween(a,a+i-1)},r.getAllSessions=function(){var a=(this._data.event,this.getHeaderMap(j)),b=a.parent_fk,c=function(a){return a[b]<0};return this.filterSessions(c)},r.getAllPapers=function(){var a=(this._data.event,this.getHeaderMap(j)),b=a.parent_fk,c=function(a){return a[b]>=0};return this.filterSessions(c)},r.getAllPeople=function(){return this.filterPeople(function(){return!0})},r.getPeopleWithAffiliation=function(a){var b=(this._data.person,this.getHeaderMap(k)),c=b.affiliation,d=function(b){return b[c]===a};return this.filterPeople(d)},r.getEventPeople=function(a){var c=this._data.event_people,d=c.rows,e=b(c.headers),g=a.getID(),h=[];return f(d,function(a){a[e.event_fk]===g&&(h[a[e.sequence]]=a[e.person_fk])}),this.getPersonWithID(h)},r.getEventAttachments=function(a){var d=this._data.event_attachments,e=d.rows,g=b(d.headers),h=a.getID(),i=[];return f(e,function(a){a[g.event_fk]===h&&i.push(new t(c(d,a),this))},this),i},r.getEventAnnotations=function(a){var c=this._data.event_annotations,d=c.rows,e=b(c.headers),g=[],h=a.getID();return f(d,function(a){a[e.event_fk]===h&&g.push(a[e.annotation_fk])},this),this.getAnnotationWithID(g)},r.getLocation=function(a){return a>=0?this.getLocationWithID(a):void 0},r.getSessionEvents=function(a,c){var d=this._data.event_events,e=d.rows,g=b(d.headers),h=this._data.event,i=(h.rows,b(h.headers),a.getID()),j=[],k=0;return f(e,function(a){if(a[g.parent_fk]===i){var b=a[g.sequence],d=a[g.child_fk];if(j[b]=d,k++,c&&k>c)return q}}),this.getEventWithID(j)},r.getNumSubEvents=function(a){var c=this._data.event_events,d=c.rows,e=b(c.headers),g=0;return f(d,function(a){a[e.parent_fk]===parent_fk&&g++}),g},r.getPersonEvents=function(a){var c=this._data.event_people,d=c.rows,e=b(c.headers),g=this._data.event,h=(g.rows,b(g.headers),[]),i=a.getID();return f(d,function(a){if(a[e.person_fk]===i){var b=a[e.event_fk];h.push(b)}},this),this.getEventWithID(h)},r.doSearch=function(a,c){var d,e=this._data.person,h=e.rows,i=b(e.headers),j=this._data.event,k=j.rows,l=b(j.headers),m=i._id,n=i.name,o=i.affiliation,p=l._id,q=l.title,r=l.type,s=l.description,t=l.parent_fk,u=a.toLowerCase().slice(0,3),v=this._firstNSearchResults[u],w=!c;return v||(d={},f(h,function(a){a[n].toLowerCase().indexOf(u)>=0&&(d.people?d.people.push(a):d.people=[a]),a[o]&&a[o].toLowerCase().indexOf(u)>=0&&(d.affiliations||(d.affiliations={}),d.affiliations[a[o]]={institute:a[o]})}),f(k,function(a){(a[q].toLowerCase().indexOf(u)>=0||w&&a[s]&&a[s].toLowerCase().indexOf(u)>=0)&&(a[t]<0?d.sessions?d.sessions.push(a):d.sessions=[a]:d.papers?d.papers.push(a):d.papers=[a])}),v=this._firstNSearchResults[u]=d),a=a.toLowerCase(),d={people:g(v.people,function(b){return b[n].toLowerCase().indexOf(a)>=0?this.getPersonWithID(b[m]):!1},this),affiliations:g(v.affiliations,function(b){return b.institute.toLowerCase().indexOf(a)>=0?b:!1},this),sessions:g(v.sessions,function(b){var c=b[q].toLowerCase().indexOf(a)>=0||b[r].toLowerCase().indexOf(a)>=0||w&&b[s]&&b[s].toLowerCase().indexOf(a)>=0;return c?this.getEventWithID(b[p]):!1},this),papers:g(v.papers,function(b){var c=b[q].toLowerCase().indexOf(a)>=0||w&&b[s]&&b[s].toLowerCase().indexOf(a)>=0;return c?this.getEventWithID(b[p]):!1},this)},f(d,function(a,b){0===a.length&&delete d[b]}),d}}(x),a.confApp={Database:x,Event:u,Person:v,Location:w,loadDatabase:function(a,b,c){var d=new x(a);return b&&d.onLoad(b,c),d}};var y=Array.isArray,z=y||function(a){return"[object Array]"===toString.call(a)}}(this);b("paper");c.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var o=["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"],p={};$.widget("confapp.caWebProgram",{options:{databaseURL:!1,selectedEvent:window.location.hash,saveOnUnload:!0,showLogo:!1,annotationImageDirectory:"images/annotations",mapImageDirectory:"images/maps",imageDirectory:"images",conferenceLogo:!1},_create:function(){this._loadDatabase(this.option("databaseURL")),this.loadingElement=$("<div />").appendTo(this.element).text("Loading..."),this.logoElement=$("<span />").appendTo(this.headerElement),this.headerElement=$("<div />").appendTo(this.element).addClass("program_header"),this.signinElement=$("<span />").appendTo(this.headerElement).on("googleLogin",$.proxy(this._onGoogleLogin,this)).google_signin({database:this.getDatabase()}),this.daysElement=$("<div />").appendTo(this.element).addClass("conference_days")},_destroy:function(){this._clearDays(),this.daysElement.remove()},_loadDatabase:function(a){this._database=confApp.loadDatabase(a,this._onDatabaseLoaded,this)},_onDatabaseLoaded:function(){var a=this.getDatabase(),b=a.getConferenceInfo();document.title=[b.name,"Program"].join(" "),this.loadingElement.remove(),this._user_data=new x(b.data_url,a.getID(),b.data_sync),this.option("saveOnUnload")&&$(window).on("beforeunload",$.proxy(function(){this._user_data.saveLocally()},this)),this._updateDays();var c=this.option("selectedEvent");if(c){c=c.replace("#","");var d=a.getEventWithUniqueID(c);d&&this.openPresentation(d)}},openPresentation:function(a){var b,c=a.getParent();if(c){var d=$("#"+c.getUniqueID(),this.element);d.session("expand"),b=$("#"+a.getUniqueID(),this.element),h(b)}else b=$("#"+a.getUniqueID(),this.element),h(b);b.addClass("searchResult"),setTimeout(function(){b.removeClass("searchResult")},5e3)},_updateDays:function(){var a=this.getDatabase(),b=a.getDayTimestamps();this._clearDays(),this.option("showLogo"),this.voterIDElement=$("<span />").appendTo(this.headerElement).viewVoterID({userData:this.getUserData(),database:a}),this.searchElement=$("<div />").appendTo(this.headerElement).search({database:a,userData:this.getUserData()}),b?j(b,function(b,c){$("<div />").appendTo(this.daysElement).caDay({database:a,userData:this.getUserData(),dayTimestamp:b,annotationImageDirectory:d(this.option("annotationImageDirectory")),mapImageDirectory:d(this.option("mapImageDirectory")),imageDirectory:d(this.option("imageDirectory"))})},this):$("<div />").appendTo(this.daysElement).caDay({database:a,userData:this.getUserData(),selectedEvent:this.option("selectedEvent"),dayTimestamp:!1,annotationImageDirectory:d(this.option("annotationImageDirectory")),mapImageDirectory:d(this.option("mapImageDirectory")),imageDirectory:d(this.option("imageDirectory"))})},_clearDays:function(){$.each(this.daysElement.children(),function(a,b){b.caDay("destroy").remove()})},_onGoogleLogin:function(a){var b=(a.profile,a.id_token);this._user_data.setGoogleIDToken(b)},getDatabase:function(){return this._database},getUserData:function(){return this._user_data}});var q=6e4;$.widget("confapp.caDay",{options:{database:!1,dayTimestamp:!1,userData:!1,headerTag:"h3",annotationImageDirectory:!1,mapImageDirectory:!1,imageDirectory:!1},_create:function(){this.headerElement=$("<"+this.option("headerTag")+"/>").appendTo(this.element),this.dayOfWeekSpan=$("<span />").appendTo(this.headerElement),this.dateSpan=$("<span />").appendTo(this.headerElement),this.timeSlotsElement=$("<div />").appendTo(this.element),this._updateHeaderText(),this._addClasses(),this._updateTimeSlots()},_destroy:function(){this.headerElement.remove(),this._clearTimeSlots()},_addClasses:function(){this.element.addClass("conference_day"),this.headerElement.addClass("day_header"),this.dayOfWeekSpan.addClass("day_of_week"),this.dateSpan.addClass("date"),this.timeSlotsElement.addClass("sessions")},_getDay:function(){var a=this.option("database"),b=this.option("dayTimestamp");if(b){var c=a.getUTCOffset(),d=new Date(b).getTimezoneOffset()*q,e=new Date(b+c+d+60*q);return e}return!1},_updateHeaderText:function(){var a=this._getDay();if(a){var b=e(a),c=moment(a).format("ll");this.dayOfWeekSpan.text(b),
this.dateSpan.text(c)}},_updateTimeSlots:function(){var a=this._getTimeSlots(),b=0,c=this.option("database");$.each(a,function(a,c){var d=c.numSessions;d>b&&(b=d)}),this._clearTimeSlots(),$.each(a,$.proxy(function(a,d){$("<div />").appendTo(this.timeSlotsElement).timeSlot({database:c,userData:this.option("userData"),numSessions:d.numSessions,startTimestamp:d.startTimestamp,endTimestamp:d.endTimestamp,sessions:d.sessions,totalSimultaneousSessions:b,annotationImageDirectory:this.option("annotationImageDirectory"),mapImageDirectory:this.option("mapImageDirectory"),imageDirectory:this.option("imageDirectory")})},this)),this.option("dayTimestamp")||$(".session",this.element).session("option","collapseOtherSessions",!1).session("expand")},_clearTimeSlots:function(){$.each(this.timeSlotsElement.children(),function(a,b){b.timeSlot("destroy").remove()})},_getTimeSlots:function(){var a,b=this.option("dayTimestamp"),c=this.option("database"),d={},e=[];return b?(a=c.getDaySessions(b),$.each(a,function(a,b){var c="t"+b.getStartTimestamp()+"_"+b.getEndTimestamp();d.hasOwnProperty(c)?d[c].push(b):d[c]=[b]}),$.each(d,function(a,b){var c=b[0],d=c.getStartTimestamp(),f=c.getEndTimestamp(),g=c.getUTCOffset();b.sort(function(a,b){return a.location_fk-b.location_fk}),e.push({numSessions:b.length,sessions:b,startTimestamp:d,endTimestamp:f,utcOffset:g})}),e.sort(function(a,b){return a.start_timestamp-b.start_timestamp})):(a=c.getAllSessions(),$.each(a,function(a,b){e.push({numSessions:1,sessions:[b],startTimestamp:b.getStartTimestamp(),endTimestamp:b.getEndTimestamp(),utc_offset:b.getUTCOffset()})})),e}}),$.widget("confapp.authorList",{options:{event:!1,expanded:!1,numColumns:4,gridColumns:12},_create:function(){this._addClasses(),this._updatePeople()},_destroy:function(){this._clearPeople()},_updatePeople:function(){var a=this.option("event"),b=a.getPeople(),c=(a.length,this.option("numColumns")),d=this.option("gridColumns"),e=o[Math.round(d/c)-1],f=[],g=[f];$.each(b,function(a,b){f.length>=c&&(f=[],g.push(f)),f.push(b)}),this._clearPeople(),$.each(g,$.proxy(function(a,b){var c=$("<div />").addClass("row").appendTo(this.element);$.each(b,$.proxy(function(a,b){$("<div />").appendTo(c).person({person:b,columnClass:e})},this))},this))},_clearPeople:function(){$.each(this.element.children(),function(a,b){$.each($(b).children(),function(a,b){$(b).person("destroy").remove()})})},_addClasses:function(){this.element.addClass("authorList")}}),$.widget("confapp.person",{options:{person:!1,columnClass:!1,inline:!1,prefix:""},_create:function(){var a=this.option("person"),b=this.option("inline"),c=a.getAffiliation(),d=b?"<span />":"<div />";if(b){var e=this.option("prefix");this.element.text(e)}if(this.nameElement=$(d).appendTo(this.element).text(a.getName()),b){var f=c?" ("+c+")":"";this.affiliationElement=$(d).appendTo(this.element).text(f)}else this.affiliationElement=$(d).appendTo(this.element).text(c);this.nameElement.on("click",function(){$(".ca_search").search("setSearchQuery",a.getName())}),this.affiliationElement.on("click",function(){$(".ca_search").search("setSearchQuery",a.getAffiliation())}),this._addClasses()},_destroy:function(){},_setOption:function(a,b){this._super(a,b)},_addClasses:function(){this.element.addClass("person columns").addClass(this.option("columnClass")),this.nameElement.addClass("name"),this.affiliationElement.addClass("affiliation")}}),$.widget("confapp.slotBubbles",{options:{session:!1,userData:!1,annotationImageDirectory:!1,mapImageDirectory:!1,imageDirectory:!1},_create:function(){this.slotBubbleBody=$("<tbody />").appendTo(this.element),this.slotBubbleRow=$("<tr />").appendTo(this.slotBubbleBody),this._updateBubbles(),this._addClasses(),this._addTooltips()},_destroy:function(){this._clearEventListenerss(),this._destroyTooltips(),this._clearBubbles()},_addClasses:function(){this.element.addClass("slot_bubbles")},_updateBubbles:function(){var a=this._getPresentationPercentages(),b=0;this._clearBubbles(),$.each(a,$.proxy(function(a,c){var d=c.percent;$("<td />").appendTo(this.slotBubbleRow).slotBubble({presentation:c.presentation,percent:d,userData:this.option("userData"),annotationImageDirectory:this.option("annotationImageDirectory"),mapImageDirectory:this.option("mapImageDirectory"),imageDirectory:this.option("imageDirectory")}),b+=d},this)),.99>b&&$("<td />").appendTo(this.slotBubbleRow).css({width:100*(1-b)+"%"})},_clearBubbles:function(){$.each(this.slotBubbleRow.children(),function(a,b){b.slotBubble("destroy").remove()})},_getPresentationPercentages:function(){var a=this.option("session"),b=a.getSubEvents(),c=a.getEndTimestamp()-a.getStartTimestamp(),d=$.map(b,function(a){var b=a.getEndTimestamp()-a.getStartTimestamp();return{presentation:a,percent:b/c}}),e=0;return $.each(d,function(a,b){e+=b.percent}),e>1&&$.each(d,function(a,b){b.percent=b.percent/e}),d},_addTooltips:function(){this.slotBubbleRow.tooltip({position:{my:"center bottom",at:"center top-5"},items:".slot_bubble",content:function(){return $(this).slotBubble("getTooltipContent")},show:!1,hide:!1})},_destroyTooltips:function(){this.slotBubbleRow.tooltip("destroy")}}),$.widget("confapp.slotBubble",{options:{presentation:!1,percent:!1,userData:!1,annotationImageDirectory:!1,mapImageDirectory:!1,imageDirectory:!1},_create:function(){this._addClasses(),this._addEventListeners(),this._addUserDataListeners(),this._addSearchListeners()},_destroy:function(){this._removeEventListeners(),this._removeUserDataListeners(),this._removeSearchListeners()},_addClasses:function(){this.element.addClass("slot_bubble").css({width:100*this.option("percent")+"%",position:"relative",overflow:"hidden"})},_addSearchListeners:function(){var a=this.option("presentation"),b=a.getID();$(window).on("ca_search.bubble_"+b,$.proxy(function(a){var c=a.eventIDs;c[b]?this.element.addClass("searchResult").removeClass("notSearchResult"):this.element.addClass("notSearchResult").removeClass("searchResult")},this)).on("ca_clear_search.bubble_"+b,$.proxy(function(a){this.element.removeClass("notSearchResult searchResult")},this))},_removeSearchListeners:function(){var a=this.option("presentation"),b=a.getID();$(window).off("ca_search.bubble_"+b).off("ca_search.bubble_"+b)},_addEventListeners:function(){this.element.on("click.scrollToPresentation",$.proxy(function(a){var b=this.option("presentation"),c=b.getUniqueID(),d=jQuery.Event("slot_bubble_selected");d.presentationUniqueID=b.getUniqueID(),this.element.trigger(d),window.location.hash=c,a.preventDefault(),a.stopPropagation()},this))},_removeEventListeners:function(){this.element.off("click.scrollToPresentation")},_addUserDataListeners:function(){var a=this.option("userData"),b=this.option("presentation"),c=b.getUniqueID(),d=[],e=b.getAnnotations();$.each(v,function(b,e){a.getField(c,e)&&d.push(e)}),this.element.addClass(d.join(" ")),a.onChange(c,function(a,b){v.indexOf(a)>=0&&(b?this.element.addClass(a):this.element.removeClass(a))},this,"bubbleChange"),$.each(e,$.proxy(function(a,b){var c=b.getIcon();$("<img />").attr("src",this.option("annotationImageDirectory")+c).css({height:"20px",position:"absolute",top:"-3px"}).addClass("annotation").appendTo(this.element)},this))},_removeUserDataListeners:function(){var a=this.option("userData");a.offChange("bubbleChange")},getTooltipContent:function(){var a,b=this.option("presentation"),c=this.option("userData"),d=$.map(b.getPeople(),function(a){return a.getLastName()});a=d.length<=2?d.join(" & "):d.slice(0,d.length-1).join(", ")+", & "+d[d.length-1];var e=$("<div />");$("<div />").text(b.getName()).addClass("title").appendTo(e),$("<div />").text(a).addClass("authors").appendTo(e);var f=$("<div />").appendTo(e).addClass("user_annotations"),g=$("<div />").appendTo(e).addClass("annotations"),h=c.getRow(b.getUniqueID(),!0);return h&&j(["schedule","reading_list","vote","note"],function(a,b){var c=h.getField(a);c&&f.append($("<img />").attr({src:this.option("imageDirectory")+a+"_selected.png",height:"16px"}).addClass("userData"))},this),$.each(b.getAnnotations(),$.proxy(function(a,b){var c=$("<span />").appendTo(g).addClass("annotation"),d=b.getIcon();$("<img />").attr("src",this.option("annotationImageDirectory")+d).css({height:"16px",position:"relative",top:"3px"}).appendTo(c),$("<span />").text(b.getDescription()).appendTo(c)},this)),e.html()}}),$.widget("confapp.timeSlot",{options:{database:!1,userData:!1,slot:!1,numSessions:0,sessions:[],startTimestamp:0,endTimestamp:0,totalSimultaneousSessions:0,headerTag:"h5",numColumns:4,gridColumns:12,annotationImageDirectory:!1,mapImageDirectory:!1,imageDirectory:!1,getHeaderText:function(a,b,c,d){if(a>=0){var e=new Date(a+c+d),g=new Date(b+c+d),h=/(AM|PM)$/,i=moment(e).format("LT"),j=moment(g).format("LT"),k=i.match(h),l=j.match(h);k&&(k=k[0]),l&&(l=l[0]),k&&k===l&&(i=i.replace(h,"").trim());var m=$("<span />"),n=$("<span />").text(f(e)).addClass("weekday"),o=$("<span />").html(i+"&nbsp;&ndash;&nbsp;"+j).addClass("start_end_time");return m.append(n,"&nbsp;",o),m.html()}return""}},_create:function(){this.option("numSessions")>1&&(this.headerElement=$("<"+this.option("headerTag")+"/>").appendTo(this.element).html(this._getHeaderText())),this.sessionsElement=$("<div />").appendTo(this.element),this._updateSessions(),this._addClasses()},_destroy:function(){this._clearSessions()},_addClasses:function(){this.element.addClass("time_slot"),this.sessionsElement.addClass("sessions"),this.headerElement&&this.headerElement.addClass("time_slot_header"),this.element.add(this.sessionsElement,this.headerElement).addClass(this._isSingular()?"singular":"plural")},_getHeaderText:function(){var a=this.option("startTimestamp"),b=this.option("endTimestamp"),c=(new Date(a),this.option("getHeaderText")),d=this.option("database"),e=d.getUTCOffset(),f=60*new Date(a).getTimezoneOffset()*1e3,g=this.option("dayOfWeek")||"",h=g+" "+c(a,b,e,f);return h},_isSingular:function(){return 1===this.option("numSessions")},_updateSessions:function(){var a,b,c=this.option("sessions"),d=[],e=[d],f=this.option("numSessions"),h=this._isSingular(),i=this.option("gridColumns");b=3>=f?f:this.option("numColumns"),a=g(Math.round(i/b)),$.each(c,function(a,c){d.length>=b&&(d=[],e.push(d)),d.push(c)}),this._clearSessions(),$.each(e,$.proxy(function(b,c){var d=$("<div />").addClass("row").appendTo(this.sessionsElement);$.each(c,$.proxy(function(b,c){$("<div />").appendTo(d).session({session:c,database:this.option("database"),userData:this.option("userData"),columnClass:a,timeString:h?this._getHeaderText():!1,singular:h,annotationImageDirectory:this.option("annotationImageDirectory"),mapImageDirectory:this.option("mapImageDirectory"),imageDirectory:this.option("imageDirectory")})},this))},this))},_clearSessions:function(){$.each(this.sessionsElement.children(),function(a,b){$(b).is(".expanded_session ")||($.each(b.children(),function(a,b){b.session("destroy").remove()}),$(b).remove())})}}),$.widget("confapp.session",{options:{database:!1,session:!1,userData:!1,headerTag:"h5",expanded:!1,columnClass:"",timeString:!1,showBubbles:!0,singular:!1,collapseOtherSessions:!0,annotationImageDirectory:!1,mapImageDirectory:!1,imageDirectory:!1},_create:function(){var a=this.option("session"),b=a.getSubEvents(),c=b.length;this.headerElement=$("<"+this.option("headerTag")+"/>").appendTo(this.element),this.timeElement=$("<span />").addClass("time").appendTo(this.headerElement),this.nameElement=$("<span />").addClass("name").appendTo(this.headerElement),this.infoElement=$("<div />").appendTo(this.element).addClass("sessionInfo"),this.typeElement=$("<span />").appendTo(this.infoElement),this.locationElement=$("<span />").appendTo(this.infoElement),this._addUserDataButtons(),c>1&&this.option("showBubbles")&&!this._hasParallelPresentations()&&(this.bubbles=$("<table />").appendTo(this.element).slotBubbles({session:this.option("session"),userData:this.option("userData"),annotationImageDirectory:this.option("annotationImageDirectory"),mapImageDirectory:this.option("mapImageDirectory"),imageDirectory:this.option("imageDirectory")})),this.option("expanded")||a.isSingular()&&this.option("singular")||this._doCollapse(),c>=1&&this._addEventListeners(),this._addClasses(),this._updateHeader(),this._addSearchListeners()},_destroy:function(){this._clearEvents(),this._desteroyLocation(),this._removeEventListeners(),this.bubbles.slotBubbles("destroy"),this._removeSearchListeners(),this._removeUserDataButtons()},_checkIfUserDataActivated:function(a){var b,c=this.option("session"),d=this.option("userData"),e=c.getSubEvents(),f=e.length,g=0;if(0===f)return d.getField(c.getUniqueID(),a);for(;f>g;){if(b=e[g],!d.getField(b.getUniqueID(),a))return!1;g++}return!0},_setUserData:function(a,b){var c,d=this.option("session"),e=this.option("userData"),f=d.getSubEvents(),g=f.length,h=0,i=0,j=function(){i++,i===g&&e.saveLocally()};for(0===g&&e.setFieldAndSave(d.getUniqueID(),a,b);g>h;)c=f[h],e.setField(c.getUniqueID(),a,b,j),h++},_addUserDataButtons:function(){var a=this.option("session"),b=this.option("userData"),c=this.option("database"),d=this.option("imageDirectory"),e=c.getConferenceInfo(),f=e.schedule||e.reading_list||e.note,g=f?$("<div />").appendTo(this.element).addClass("user_data").css({"margin-bottom":"3px"}):!1;e.schedule&&(this.scheduleToggle=$("<span />").appendTo(g).addClass("schedule").toggleButton({activated:this._checkIfUserDataActivated("schedule"),activatedLabel:" Schedule",deactivatedLabel:" Schedule",activatedImage:d+"schedule_selected.png",deactivatedImage:d+"schedule.png"}).on("toggled",$.proxy(function(a){this._setUserData("schedule",a.activated)},this)).css({})),e.reading_list&&(this.readingListToggle=$("<span />").appendTo(g).addClass("reading_list").toggleButton({activated:this._checkIfUserDataActivated("reading_list"),activatedLabel:" Reading List",deactivatedLabel:" Reading List",activatedImage:d+"reading_list_selected.png",deactivatedImage:d+"reading_list.png"}).on("toggled",$.proxy(function(a){this._setUserData("reading_list",a.activated)},this)).css({"margin-left":e.schedule?"10px":"0px"})),$.each(a.getSubEvents(),$.proxy(function(a,c){b.onChange(c.getUniqueID(),this._updateToggleButton,this,"sessionDetectChange")},this)),b.onChange(a.getUniqueID(),this._updateToggleButton,this,"sessionDetectChange")},_updateToggleButton:function(){this.scheduleToggle&&this.scheduleToggle.toggleButton("option","activated",this._checkIfUserDataActivated("schedule")),this.readingListToggle&&this.readingListToggle.toggleButton("option","activated",this._checkIfUserDataActivated("reading_list"))},_removeUserDataButtons:function(){var a=this.option("session"),b=this.option("userData");this.readingListToggle&&this.readingListToggle.toggleButton("destroy"),this.scheduleToggle&&this.scheduleToggle.toggleButton("destroy"),this.voteToggle&&this.voteToggle.toggleButton("destroy"),this.notes&&this.notes.note("destroy"),$.each(a.getSubEvents(),function(a){var c=a.getUniqueID();b.offChange(c,"sessionDetectChange")})},_addSearchListeners:function(){var a=this.option("session"),b=a.getID();$(window).on("ca_search.session_"+b,$.proxy(function(a){var c=a.eventIDs;c[b]?this.element.addClass("searchResult").removeClass("notSearchResult"):this.element.addClass("notSearchResult").removeClass("searchResult")},this)).on("ca_clear_search.session_"+b,$.proxy(function(a){this.element.removeClass("notSearchResult searchResult")},this))},_removeSearchListeners:function(){var a=this.option("session"),b=a.getID();$(window).off("ca_search.session_"+b).off("ca_search.session_"+b)},_updateHeader:function(){var a=this.option("session"),b=a.getLocation(),c=a.getType(),d=this.option("timeString");a.getNumSubEvents();d&&d.trim()?(this.timeElement.html(d+":&nbsp;"),this.element.addClass("hasTime")):(this.infoElement.removeClass("hasTime"),this.element.removeClass("hasTime")),this.nameElement.text(a.isSingular()?a.getName()||a.getSubEvents()[0].getName():a.getName()),this.typeElement.text(c&&b?c+" / ":c),this.locationElement.location({location:b,annotationImageDirectory:this.option("annotationImageDirectory"),mapImageDirectory:this.option("mapImageDirectory"),imageDirectory:this.option("imageDirectory")})},_removeEventListeners:function(){this.element.off("slot_bubble_selected.doscroll").off("click.doexpand")},_destroyLocation:function(){this.locationElement.location("destroy")},_addEventListeners:function(){this.element.on("click.doexpand",$.proxy(function(a){this.isExpanded()?(this.collapse(),a.stopPropagation(),a.preventDefault()):(this.expand(),a.stopPropagation(),a.preventDefault())},this)),this.element.on("slot_bubble_selected.doscroll",$.proxy(function(a){var b=a.presentationUniqueID;this.isExpanded()||this.expand(),setTimeout(function(){h("#"+b)},10)},this))},_addClasses:function(){var a=this.option("session");this.element.addClass("session columns").addClass(this.option("columnClass")).attr({id:a.getUniqueID()}),this.headerElement.addClass("session_header"),this.option("singular")&&(this.element.addClass("singular"),this.element.addClass("time_slot_header"),this.headerElement.addClass("singular"))},_updatePresentations:function(){var a=this.option("session"),b=a.getNumSubEvents();this._clearPresentations(),this.expansionRow=$("<div />").insertAfter(this.element.parent()).addClass("expanded_session row");var c=a.getPeople()[0];if(c){$("<div />").appendTo(this.expansionRow).person({person:c,inline:!0,prefix:"Chair: "}).addClass("chair")}this.subEvents=$("<div />").appendTo(this.expansionRow),$.each(a.getSubEvents(),$.proxy(function(a,c){$("<div />").appendTo(this.subEvents).presentation({database:this.option("database"),userData:this.option("userData"),presentation:c,expanded:1===b,showTitle:!0,annotationImageDirectory:this.option("annotationImageDirectory"),mapImageDirectory:this.option("mapImageDirectory"),imageDirectory:this.option("imageDirectory")})},this))},_clearPresentations:function(){this.expansionRow&&($.each(this.subEvents.children(),function(a,b){$(b).presentation("destroy").remove()}),this.expansionRow.remove(),delete this.expansionRow)},_setOption:function(a,b){this._super(a,b),"expanded"===a&&(b?this._doExpand():this._doCollapse())},expand:function(){this.option("collapseOtherSessions")&&$(".expanded.session").session("collapse"),this.option("expanded",!0)},collapse:function(){this.option("expanded",!1)},isExpanded:function(){return this.option("expanded")},_doExpand:function(){this.element.addClass("expanded"),this._updatePresentations()},_doCollapse:function(){this.element.removeClass("expanded"),this._clearPresentations()},_hasParallelPresentations:function(){var a=this.option("session"),b=a.getSubEvents(),c=b.length;if(!(c>1))return!1;for(var d,e,f=0,g=0;c>f;f++){if(d=b[f],e=d.getStartTimestamp(),g>e)return!0;g=e}}}),$.widget("confapp.presentation",{options:{database:!1,presentation:!1,userData:!1,headerTag:"h5",expanded:!1,showTitle:!0,requireDescriptionExpansion:!1,imageDirectory:!1,annotationImageDirectory:!1,mapImageDirectory:!1},_create:function(){var a=this.option("presentation");this.option("showTitle")&&(this.headerElement=$("<"+this.option("headerTag")+"/>").appendTo(this.element).addClass("presentationTitle").text(a.getName())),this.annotationsElement=$("<div />").appendTo(this.element),this.authorsElement=$("<div />").appendTo(this.element).authorList({event:this.option("presentation")}),this.descriptionElement=$("<div />").appendTo(this.element),this.upArrow=$("<a />").html("&uarr;").attr({href:"javascript:void(0)",title:"Parent Session"}).addClass("scrollToTimeSlot").appendTo(this.headerElement).on("click",$.proxy(function(){var a=this.element.parents(".time_slot"),b=$(".session.expanded",a);h(b)},this)),this._updateAnnotations(),this._addClasses(),this._updateLocation(),this._doExpand(),this._addUserDataButtons(),this._addEventListeners(),this._addSearchListeners(),this._updateSearchResults(A())},_destroy:function(){this.authorsElement.authorList("destroy"),this._destroyLocation(),this._removeUserDataButtons(),this._removeSearchListeners()},_addSearchListeners:function(){var a=this.option("presentation"),b=a.getID();$(window).on("ca_search.presentation_"+b,$.proxy(this._updateSearchResults,this)).on("ca_clear_search.presentation_"+b,$.proxy(this._updateSearchResults,this))},_removeSearchListeners:function(){var a=this.option("presentation"),b=a.getID();$(window).off("ca_search.presentation_"+b).off("ca_search.presentation_"+b)},_updateSearchResults:function(a){if(a){var b=this.option("presentation"),c=b.getID();if("ca_clear_search"===a.type)this.element.removeClass("notSearchResult searchResult");else if("ca_search"===a.type){var d=a.eventIDs;d[c]?this.element.addClass("searchResult").removeClass("notSearchResult"):this.element.addClass("notSearchResult").removeClass("searchResult")}}},_addClasses:function(){var a=this.option("presentation");this.element.addClass("presentation").attr({id:a.getUniqueID()}),this.descriptionElement.addClass("row")},_updateAnnotations:function(){var a=this.option("presentation"),b=a.getAnnotations();if(this.option("showTitle")){var c=a.getLocation(),d=a.getType();$("<span />").appendTo(this.annotationsElement).text(d).addClass("presentation_type");c&&d&&this.annotationsElement.append(" / "),this.locationElement=$("<span />").appendTo(this.annotationsElement).location({location:c,mapImageDirectory:this.option("mapImageDirectory"),annotationImageDirectory:this.option("annotationImageDirectory"),imageDirectory:this.option("imageDirectory")})}$.each(b,$.proxy(function(a,b){var c=$("<span />").appendTo(this.annotationsElement).addClass("annotation"),d=b.getIcon();$("<img />").attr("src",this.option("annotationImageDirectory")+d).css({height:"18px",position:"relative",top:"3px"}).appendTo(c),$("<span />").text(b.getDescription()).appendTo(c)},this))},_setOption:function(a,b){this._super(a,b),"expanded"===a&&(b?this._doExpand():this._doCollapse())},_addUserDataButtons:function(){},_removeUserDataButtons:function(){var a=this.option("userData"),b=this.option("presentation"),c=b.getUniqueID();this.readingListToggle&&this.readingListToggle.toggleButton("destroy"),this.scheduleToggle&&this.scheduleToggle.toggleButton("destroy"),this.voteToggle&&this.voteToggle.toggleButton("destroy"),this.notes&&this.notes.note("destroy"),a.offChange(c,"detectChange")},_addEventListeners:function(){},_setWindowHash:function(){var a=this.option("presentation");window.location.hash=a.getUniqueID()},_updateLocation:function(){this.locationElement},_destroyLocation:function(){this.locationElement&&this.locationElement.location("destroy")},expand:function(){this.option("expanded",!0)},collapse:function(){this.option("expanded",!1)},_doExpand:function(){var a=this.option("userData"),b=this.option("database"),d=this.option("imageDirectory"),e=b.getConferenceInfo(),f=this.option("presentation"),h=f.getUniqueID(),i=e.schedule||e.reading_list||e.vote||e.note,j=i?$("<div />").appendTo(this.descriptionElement).addClass("user_data two columns"):!1;this.element.addClass("expanded").removeClass("collapsed"),e.schedule&&(this.scheduleToggle=$("<div />").appendTo(j).addClass("schedule").toggleButton({activated:a.getField(h,"schedule"),activatedLabel:" Schedule",deactivatedLabel:" Schedule",activatedImage:d+"schedule_selected.png",deactivatedImage:d+"schedule.png"}).on("toggled",$.proxy(function(b){var c=b.activated;a.setFieldAndSave(h,"schedule",c)},this)).css({})),e.reading_list&&(this.readingListToggle=$("<div />").appendTo(j).addClass("reading_list").toggleButton({activated:a.getField(h,"reading_list"),activatedLabel:" Reading List",deactivatedLabel:" Reading List",activatedImage:d+"reading_list_selected.png",deactivatedImage:d+"reading_list.png"}).on("toggled",$.proxy(function(b){var c=b.activated;a.setFieldAndSave(h,"reading_list",c)},this)).css({})),e.vote&&(this.voteToggle=$("<div />").appendTo(j).addClass("vote").toggleButton({activated:a.getField(h,"vote"),activatedLabel:" Best Talk",deactivatedLabel:" Best Talk",activatedImage:d+"vote_selected.png",deactivatedImage:d+"vote.png",checkBeforeActivating:$.proxy(function(b,c){if(b)if(f.getStartTimestamp()<=(new Date).getTime()){var d=a.getVoterID();d?c(b):n(a,function(a,d){c(d?b:!1)})}else alert("You cannot vote until the presentation has started"),c(!1);else c(b)},this)}).on("toggled",$.proxy(function(b){var c=b.activated;a.setFieldAndSave(h,"vote",c)},this)).css({})),e.note&&(this.notes=$("<div />").appendTo(j).addClass("note").note({value:a.getField(h,"note"),placeholder:"Add a private note"}).on("valueChange",$.proxy(function(b){var c=b.value;a.setFieldAndSave(h,"note",c+"")},this)));var m=f.getAttachments(),o=[],p=[];$.each(m,function(a,b){"video"===b.getType().toLowerCase()?k(b.getURL())&&o.push(b):b.getURL()&&p.push(b)});var q,r;if(0===o.length&&0===p.length?q=i?10:12:(q=i?8:6,r=$("<div />").prependTo(this.descriptionElement).addClass(g(i?2:4)+" columns")),o.length>0){var s=o[0],t=$("<div />").appendTo(r).css({position:"relative",height:"0px","padding-bottom":"60%"});$("<iframe />").attr({src:l(k(s.getURL())),frameborder:0,allowfullscreen:!0}).css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).appendTo(t)}p.length>0&&$.each(p,$.proxy(function(a,b){var d=b.getURL(),e=b.getType(),f=c(d),g=e+" ("+f.host+")";$("<a />").text(g).attr({href:d,target:"_blank"}).appendTo(r)}));var u=$("<div />").prependTo(this.descriptionElement).addClass(g(q)+" columns"),v=f.getDescription();if(v){var w=$("<p />").text(v).appendTo(u).addClass("abstract");$("<strong />").text("Abstract: ").prependTo(w)}else u.addClass("no_abstract").text("(no description)");a.onChange(h,function(a,b){"reading_list"===a?this.readingListToggle.toggleButton("option","activated",b):"schedule"===a?this.scheduleToggle.toggleButton("option","activated",b):"vote"===a?this.voteToggle.toggleButton("option","activated",b):"note"===a&&this.notes.note("option","value",b)},this,"detectChange")},_doCollapse:function(){this.option("presentation");this.element.removeClass("expanded").addClass("collapsed"),this.descriptionElement.hide()}}),$.widget("confapp.location",{options:{location:!1,mapImageDirectory:!1,imageDirectory:!1,mapMarker:"map_marker.png",mapMarkerWidth:"30px",mapMarkerHeight:"30px"},_create:function(){var a=this.option("location");a&&(this.element.text(a.getName()),this._addClasses(),this._addTooltips())},_destroy:function(){var a=this.option("location");a&&this._destroyTooltips()},_setOption:function(a,b){this._super(a,b)},_addClasses:function(){this.element.addClass("location")},_addTooltips:function(){this.element.tooltip({position:{my:"center bottom",at:"center top-5"},items:".location",content:$.proxy(function(){var a=this.option("location"),b=a.getName(),c=a.getMapFile(),d=a.getMapLocation(),e=$("<div />");$("<div />").text(b).addClass("location_name").appendTo(e).css({"text-align":"center","font-size":"1.5em","font-weight":"100",color:"#DDD"});if(c){var f=$("<div />").appendTo(e).css({position:"relative"}),g=$("<img />").attr("src",this.option("mapImageDirectory")+c).addClass("map").css({width:"100%"});if(d&&d.xPercent>=0&&d.yPercent>=0){$("<img />").addClass("marker").attr("src",this.option("imageDirectory")+this.option("mapMarker")).css({position:"absolute",left:100*d.xPercent+"%",top:100*d.yPercent+"%",width:this.option("mapMarkerWidth"),height:this.option("mapMarkerHeight")}).appendTo(f)}g.appendTo(f)}return e.html()},this),show:!1,hide:!1})},_destroyTooltips:function(){this.element.tooltip("destroy")}});var r="CONFAPP_USER_DATA",s="CONFAPP_USER_DATA_OTHER",t=function(a,b){return-1!==a.indexOf(b,a.length-b.length)},u=function(a){return"created_at"===a||t(a,"updated_at")?new Date(0):"note"===a?"":!1},v=["schedule","reading_list","note","vote"],w=function(a,b,c){this._options=c,this._userData=b,this._listeners=b._row_listeners[a]||[],delete b._row_listeners[a],this._listeners.length>0&&$.each(v,$.proxy(function(a,b){this._options.hasOwnProperty(b)&&this._notifyListeners(b,this._options[b])},this))};!function(a){var b=a.prototype;b._doSetField=function(a,b,c){this._options[a]=b,this._doSetUpdatedAtField(a,c),this._notifyListeners.apply(this,arguments)},b._doSetUpdatedAtField=function(a,b){this._options[a+"_updated_at"]=b},b._notifyListeners=function(a,b){$.each(this._listeners,function(c,d){d.callback.call(d.thisArg||this,a,b)})},b._notifyFieldChange=function(a,b,c,d,e){this._setWebDataRow(a,b,c,function(b,c){b||this._doSetField(a,c.getField(a),c.getFieldUpdatedAt(a)),d&&d.apply(e||this,arguments)},this)},b.setField=function(a,b,c,d){var e=new Date,f=m(arguments,0);f.splice(2,0,e),this._doSetField.apply(this,f),this._notifyFieldChange.apply(this,f)},b.setFieldAndSave=function(a,b,c,d){return this.setField(a,b,function(){var a=this.getParent();a.saveLocally(),c&&c.apply(d||this,arguments)},this)},b.getField=function(a){return this._options.hasOwnProperty(a)?this._options[a]:u(a)},b.getFieldUpdatedAt=function(a){return this.getField(a+"_updated_at")},b.merge=function(a){var b=[];return $.each(v,$.proxy(function(c,d){var e=this.getFieldUpdatedAt(d),f=a.getFieldUpdatedAt(d),g=e.getTime(),h=f.getTime(),i=a.getField(d),j=this.getField(d);h>g?(this._doSetField(d,i,f),b.push(d)):i!==j&&this._notifyFieldChange(d,j,e)},this)),b},b.getParent=function(){return this._userData},b.onChange=function(a,b,c){this._listeners.push({callback:a,thisArg:b,name:c})},b.offChange=function(a){for(var b=0;b<this._listeners.length;b++){var c=this._listeners[b];c.name===a&&(this._listeners.splice(b,1),b--)}},b.serialize=function(){var a={};return $.each(this._options,function(b,c){"created_at"===b||t(b,"updated_at")?a[b]=c.getTime():a[b]=c}),a},b._setWebDataRow=function(a,b,c,d,e){var f=this.getParent();if(f.canWebSync()){var g=this.getField("event_id");("reading_list"===a||"schedule"===a||"vote"===a)&&(b=b?1:0),$.ajax({url:f.getURL(),method:"POST",data:{command:"set_field",field:a,value:b,event_id:g,id_token:f.getGoogleIDToken(),voter_id:f.getVoterID(),conference_id:f.getConferenceID(),updated_at:Math.round(c.getTime()/1e3)},success:$.proxy(function(a){"error"===a.result?d.call(e||this,a.error):d.call(e||this,!1,this.getParent().sqlToRow(a.value))},this),error:function(a,b,c){d.call(e||this,c)}})}}}(w);var x=function(a,b,c,d,e){this._url=a,this._canWebSync=c,this._conference_id=b,this._loaded=!1,this._load_listeners=[],this._row_listeners={},this._listeners={},this.rows={},d&&this.onLoad(d,e),this.loadLocally()};!function(a){var b=a.prototype,c=function(a,b){var c=this.rows[a];if(c){var d=c.merge(b);$.map(d,function(a){return c.getField(a)})}else this.rows[a]=b};b.webSync=function(){if(this.canWebSync()){var a={};$.each(this.rows,function(b,c){a[b]=!1}),this.getAllWebData(function(b,d){if(!b){var e=$.proxy(c,this);$.each(d,e),$.each(d,function(b,c){a[b]=!0}),$.each(a,$.proxy(function(a,b){if(!b){var c=new w(a,this,{event_id:a});e(a,c)}},this))}},this)}},b.getRow=function(a,b){if(this.rows.hasOwnProperty(a))return this.rows[a];if(!b){var c=new w(a,this,{event_id:a});return this.rows[a]=c,c}},b.loadLocally=function(){var a=$.proxy(c,this);$.each(this.getLocalStorageRows(this._conference_id),a),this._onLoaded();var b=localStorage.getItem(s);if(b)try{var d=JSON.parse(b);d.voter_id&&this.setVoterID(d.voter_id)}catch(e){console.error(e)}return this},b._onLoaded=function(){this._loaded=!0,$.each(this._load_listeners,function(a,b){b.callback.call(b.thisArg)}),this._load_listeners=[]},b.onLoad=function(a,b){return b||(b=this),this.isLoaded()?a.call(b):this._load_listeners.push({callback:a,thisArg:b}),this},b.isLoaded=function(){return this._loaded},b.getField=function(a,b){var c=this.getRow(a,!0);return c?c.getField(b):u(b)},b.setField=function(a){var b=this.getRow(a);return b.setField.apply(b,m(arguments,1))},b.setGoogleIDToken=function(a){this._google_id_token=a,this.webSync()},b.getGoogleIDToken=function(){return this._google_id_token},b.serialize=function(){var a={};return $.each(this.rows,function(b,c){a[b]=c.serialize()}),a},b.setFieldAndSave=function(a,b,c,d,e){var f=this.getRow(a);return f.setFieldAndSave.apply(f,m(arguments,1));
},b.stringify=function(){return JSON.stringify(this.serialize())},b.setVoterID=function(a){this._voter_id=a;var b=this._listeners.voter_id;b&&$.each(b,function(b,c){c.callback.call(c.thisArg||this,a)}),this.webSync()},b.getVoterID=function(){return this._voter_id},b.saveLocally=function(){localStorage.setItem(r,this.stringify()),localStorage.setItem(s,JSON.stringify({voter_id:this.getVoterID()}))},b.canWebSync=function(){return this._canWebSync},b.getURL=function(){return this._url},b.getConferenceID=function(){return this._conference_id},b.onSetVoterID=function(a,b,c){var d="voter_id",e=this._listeners[d];e||(e=this._listeners[d]=[]),e.push({callback:a,thisArg:b,name:c})},b.onChange=function(a,b,c,d){var e=this.getRow(a,!0);if(e)e.onChange.apply(e,m(arguments,1));else{var f=this._row_listeners[a];f||(f=this._row_listeners[a]=[]),f.push({callback:b,thisArg:c,name:d})}},b.offChange=function(a,b){var c=this.getRow(a,!0);if(c)c.offChange.apply(c,m(arguments,1));else for(var d=this._row_listeners[a],e=0;e<d.length;e++){var f=d[e];f.name===b&&(d.splice(e,1),e--)}},b.getLocalStorageRows=function(){var a=localStorage.getItem(r);if(!a)return{};try{var b=JSON.parse(a),c={};return $.each(b,$.proxy(function(a,b){var d=this.parseSerializedRow(b);c[a]=d},this)),c}catch(d){return console.error(d),{}}},b.parseSerializedRow=function(a){var b={};return $.each(a,function(a,c){"created_at"===a||t(a,"updated_at")?b[a]=new Date(c):b[a]=c}),new w(b.event_id,this,b)},b.sqlToRow=function(a){var b={};return $.each(a,function(a,c){"created_at"===a||t(a,"updated_at")?"0000-00-00 00:00:00"===c?b[a]=new Date(0):b[a]=new Date(c):"note"===a?b[a]=c||"":"vote"===a||"reading_list"===a||"schedule"===a?b[a]="1"===c:b[a]=c}),new w(b.event_id,this,b)},b.getAllWebData=function(a,b){this.canWebSync()&&$.ajax({url:this.getURL(),method:"POST",data:{command:"get_all_fields",id_token:this.getGoogleIDToken(),voter_id:this.getVoterID(),conference_id:this.getConferenceID()},success:$.proxy(function(c){if("error"===c.result)a.call(b||this,c.error);else{var d=c.value,e={};$.each(d,$.proxy(function(a,b){var c=b.event_id;e[c]=this.sqlToRow(b)},this)),a.call(b||this,!1,e)}},this),error:function(c,d,e){a.call(b||this,e)}})},b.checkVoterID=function(a,b,c){var d=a.length;6===d?a.match(/^[a-zA-Z0-9]{6}$/)?$.ajax({url:this.getURL(),method:"POST",data:{command:"check_voter_id",voter_id:a,conference_id:this.getConferenceID()},success:$.proxy(function(d){"error"===d.result?b.call(c||this,d.error):d.valid&&"false"!=d.valid?b.call(c||this,!1,a):b.call(c||this,"We could not find this voter ID in our records")},this),error:function(a,d,e){b.call(c||this,e)}}):b("Voter ID should be alphanumeric"):b("Voter ID should be six characters")}}(x),$.widget("confapp.google_signin",{options:{database:!1},_create:function(){var a=this.option("database");a.onLoad(function(){var b=a.getConferenceInfo();b.data_sync||this.element.hide()},this),this._addClasses()},_destroy:function(){},_addClasses:function(){this.element.addClass("g-signin2").attr({"data-onsuccess":"onGoogleSignin",id:"googleSignIn"})},loggedIn:function(a){var b=a.getBasicProfile(),c=a.getAuthResponse().id_token,d=new $.Event("googleLogin");d.profile=b,d.id_token=c,this.element.trigger(d)}});var y=0,z={DISPLAY:"display",EDIT:"edit"};$.widget("confapp.note",{options:{placeholder:"",value:"",editTag:"textarea",editType:"text",label:!1,displayTag:"div",feedbackInterval:3e3},_create:function(){this._id="input_"+y,this.option("label")&&(this.label=$("<label />").text(this.option("label")).attr({"for":this._id}).appendTo(this.element)),this.textInput=$("<"+this.option("editTag")+" />").attr({type:this.option("editType"),placeholder:this.option("placeholder"),id:this._id}).appendTo(this.element),this.display=$("<"+this.option("displayTag")+"/>").text(this._getDisplayValue()).appendTo(this.element),this.noteButtons=$("<div />").appendTo(this.element),this.feedback=$("<div />").appendTo(this.element).hide(),this.saveButton=$("<a />").attr({href:"javascript:void(0)"}).text("Save").on("mousedown",$.proxy(this.confirmEdit,this)).addClass("note_button save").appendTo(this.noteButtons),this.cancelButton=$("<a />").attr({href:"javascript:void(0)"}).text("Cancel").on("mousedown",$.proxy(this.cancelEdit,this)).addClass("note_button cancel").appendTo(this.noteButtons),this._doSetState(z.DISPLAY),this.element.addClass("editableInput"),this.display.on("click.beginEditing",$.proxy(function(){this.beginEditing()},this)),this.textInput.on("keydown.endEditing",$.proxy(function(a){var b=a.keyCode;27===b&&this.cancelEdit()},this)).on("blur.endEditing",$.proxy(function(a){this.confirmEdit(),a.preventDefault(),a.stopPropagation()},this)),this._updateClasses()},_destroy:function(){this.display.off("click.beginEditing"),this.textInput.off("keydown.endEditing blur.endEditing"),this._feedback_timeout&&clearInterval(this._feedback_timeout)},_updateClasses:function(){this._isPlaceHolder()?this.element.addClass("placeholder"):this.element.removeClass("placeholder")},_getDisplayValue:function(){return this._isPlaceHolder()?this.option("placeholder"):this.option("value")},_isPlaceHolder:function(){return!this.option("value")},_isDisplay:function(){return this.state===z.DISPLAY},_isEdit:function(){return this.state===z.EDIT},_doSetState:function(a){this.state=a,a===z.DISPLAY?(this.element.removeClass(z.EDIT),this.textInput.hide(),this.noteButtons.hide(),this.display.show()):(this.element.removeClass(z.DISPLAY),this.noteButtons.show(),this.display.hide(),this.textInput.show()),this.element.addClass(a)},beginEditing:function(){this._isDisplay()&&(this.initialValue=this.option("value"),this._doSetState(z.EDIT),this.textInput.val(this.option("value")).focus().select(),this._feedback_timeout&&(clearInterval(this._feedback_timeout),this.feedback.hide()))},confirmEdit:function(){if(this._isEdit()){var a=this.textInput.val();if(this.option("value",a),this._doSetState(z.DISPLAY),this.initialValue!==a){var b=new $.Event("valueChange");b.oldValue=this.initialValue,b.value=a,this.element.trigger(b)}}},cancelEdit:function(){this._isEdit()&&(this.option("value",this.initialValue),this._doSetState(z.DISPLAY))},_setOption:function(a,b){this._super(a,b),"value"===a&&(this.display.text(this._getDisplayValue()),this._updateClasses())},flashFeedback:function(a,b){a?this.feedback.removeClass("success").addClass("error").text(a):this.feedback.removeClass("error").addClass("success").text(b),this.feedback.show();var c=this.option("feedbackInterval");c&&(this._feedback_timeout=setTimeout($.proxy(function(){this.feedback.hide(),this._feedback_timeout=!1},this),c))}}),$.widget("confapp.toggleButton",{options:{activated:!1,activatedImage:!1,deactivatedImage:!1,activatedLabel:"",deactivatedLabel:"",height:"16px",checkBeforeActivating:!1},_create:function(){this.img=$("<img />").appendTo(this.element).css({height:this.option("height")}).hide(),this.label=$("<span />").appendTo(this.element),this.option("activated")?this._doActivate():this._doDeactivate(),this._addClickListeners(),this.element.addClass("toggleButton")},_destroy:function(){this.img.remove(),this.label.remove(),this._removeClickListeners()},_addClickListeners:function(){this.element.on("click.toggle",$.proxy(function(a){var b=this.option("checkBeforeActivating"),c=$.proxy(function(a){a?this.activate():this.deactivate()},this),d=!this.isActivated();b?b(d,c):c(d),a.stopPropagation(),a.preventDefault()},this))},_removeClickListeners:function(){this.element.off("click.toggle")},_setOption:function(a,b){this._super(a,b),"activated"===a&&(b?this._doActivate():this._doDeactivate())},_doActivate:function(){var a=this.option("activatedImage"),b=this.option("activatedLabel");a?this.img.show().attr("src",a):this.img.hide(),this.label.text(b),this.element.addClass("active")},_doDeactivate:function(){var a=this.option("deactivatedImage"),b=this.option("deactivatedLabel");a?this.img.show().attr("src",a):this.img.hide(),this.label.text(b),this.element.removeClass("active")},activate:function(){if(!this.isActivated()){this.option("activated",!0);var a=new $.Event("activated");this.element.trigger(a);var b=new $.Event("toggled");b.activated=this.isActivated(),this.element.trigger(b)}},deactivate:function(){if(this.isActivated()){this.option("activated",!1);var a=new $.Event("deactivated");this.element.trigger(a);var b=new $.Event("toggled");b.activated=this.isActivated(),this.element.trigger(b)}},isActivated:function(){return this.option("activated")}}),$.widget("confapp.viewVoterID",{options:{userData:!1,database:!1,numCharactersToShow:3},_create:function(){var a=this.option("userData"),b=this.option("database");this._addClickListeners(),a.onSetVoterID(this._updateMessage,this),b.getConferenceInfo().vote&&(this._updateMessage(),this.element.addClass("voter_id"))},_destroy:function(){this._removeClickListeners()},_updateMessage:function(){var a,b=this.option("userData"),c=b.getVoterID();if(c){for(var d=this.option("numCharactersToShow"),e="",f=c.length,g=0;f>g;g++)e+=f-d>g?"*":c[g];a="Voter ID: "+e}else a="Set Voter ID";this.element.text(a)},_addClickListeners:function(){this.element.on("click.view_voter_id",$.proxy(function(a){n(this.option("userData"))},this))},_removeClickListeners:function(){this.element.off("click.view_voter_id")},_setOption:function(a,b){this._super(a,b)}});var A=function(){var a;return function(b){return arguments.length>=1?void(a=b):a}}();$.widget("confapp.search",{options:{database:!1,userData:!1,minQueryLength:3},_create:function(){var a=this.option("database");a.onLoad(function(){this.inputLabel=$("<label />").appendTo(this.element).attr({"for":"ca_searchbox"}).text("Search: "),this.input=$("<input />").appendTo(this.element).attr({placeholder:"title, person, school, or description",id:"ca_searchbox",name:"ca_searchbox"}).on("input.updatesearch",i(this._onInput,200,this)).on("focus",$.proxy(function(){this.input.select()},this)),this.clear=$("<a />").appendTo(this.element).addClass("clearSearch").text("clear").attr({href:"javascript:void(0)"}).on("click",$.proxy(function(){this.setSearchQuery("")},this)),this.autoComplete=$("<div />").appendTo(this.element),this.input.catcomplete({appendTo:this.autocomplete,select:$.proxy(function(a,b){this.setSearchQuery(b.item.value),a.preventDefault()},this),source:$.proxy(function(a,b){var c=[],d=this._results||{};d.affiliations&&$.each(d.affiliations,function(a,b){c.push({label:b.institute,category:"Affiliations"})}),d.people&&$.each(d.people,function(a,b){c.push({label:b.getName(),category:"People"})}),d.sessions&&$.each(d.sessions,function(a,b){c.push({label:b.getName(),category:"Sessions"})}),d.papers&&$.each(d.papers,function(a,b){c.push({label:b.getName(),category:"Presentations"})}),b(c)},this)})},this),this.element.addClass("ca_search")},_destroy:function(){this.input.off("input.updatesearch").remove()},setSearchQuery:function(a){this.input.val(a),this._onInput()},_updateAutocomplete:function(a){this.input.catcomplete("search")},_onInput:function(a){this._updateQuery(this.input.val().trim())},_updateQuery:function(a){var b,c=this.option("minQueryLength");if(a&&(!c||a.length>=c)){var d=this.option("database"),e=d.doSearch(a),f=this._getEvents(e);this._results=e,this._updateAutocomplete(e),b=jQuery.Event("ca_search"),b.query=a,b.eventIDs=f,this.element.trigger(b),this.element.addClass("sticky"),A(b),h(".searchResult",-50)}else this._updateAutocomplete(!1),b=jQuery.Event("ca_clear_search"),this.element.trigger(b),this.element.removeClass("sticky"),A(b)},_getEvents:function(a){var b=this.option("database"),c={},d={};return a.affiliations&&$.each(a.affiliations,function(a,c){$.each(b.getPeopleWithAffiliation(c.institute),function(a,b){d[b.getID()]=b})}),a.people&&$.each(a.people,function(a,b){d[b.getID()]=b}),a.sessions&&$.each(a.sessions,function(a,b){c[b.getID()]=b}),a.papers&&$.each(a.papers,function(a,b){c[b.getID()]=b}),$.each(d,function(a,b){var d=b.getEvents();$.each(d,function(a,b){c[b.getID()]=b})}),$.each(c,function(a,b){var d=b.getParent();d&&(c[d.getID()]=d)}),$.each(c,function(a){c[a]=!0}),c}}),$.widget("confapp.autoCompleteResult",{options:{name:"",type:"",query:""},_create:function(){$("<div />").addClass("result_name").appendTo(this.element).text(this.option("name")),$("<div />").addClass("result_type").appendTo(this.element).text("("+this.option("type")+")");this.element.on("click.enterAutoComplete",$.proxy(function(){var a=jQuery.Event("autocomplete_selected");a.query=this.option("query"),this.element.trigger(a)},this))},_destroy:function(){this.element.off("click.enterAutoComplete")}}),$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(a,b){var c=this,d="";$.each(b,function(b,e){var f;e.category!==d&&(a.append("<li class='ui-autocomplete-category'>"+e.category+"</li>"),d=e.category),f=c._renderItemData(a,e),e.category&&f.attr("aria-label",e.category+" : "+e.label)})}})}(this);
//# sourceMappingURL=confapp.min.js.map